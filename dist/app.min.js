angular.module("cryptomator",["ngCookies"]),angular.module("cryptomator").factory("googleAnalytics",["$window",function(a){var b=!1;return{initialize:function(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(a,a.document,"script","//www.google-analytics.com/analytics.js","ga"),a.ga("create","UA-57664706-1","auto"),a.ga("require","displayfeatures"),b=!0},sendPageView:function(){b&&a.ga("send","pageview")},sendBtnClick:function(c){b&&a.ga("send","event","button","click",c)}}}]),angular.module("cryptomator").controller("DownloadCtrl",["$scope","googleAnalytics",function(a,b){a.isOSWindows=-1!=navigator.appVersion.indexOf("Win"),a.isOSMac=-1!=navigator.appVersion.indexOf("Mac")&&-1==navigator.appVersion.indexOf("iPhone"),a.isOSLinux=(-1!=navigator.appVersion.indexOf("Linux")||-1!=navigator.appVersion.indexOf("X11"))&&-1==navigator.appVersion.indexOf("Android"),a.isOSiOS=-1==navigator.appVersion.indexOf("iPhone"),a.isOSAndroid=-1==navigator.appVersion.indexOf("Android"),a.showAllDownloads=!1,a.logDownload=function(a){b.sendBtnClick(a)}}]),angular.module("cryptomator").controller("DonateCtrl",["$scope","$window",function(a,b){a.copyBitcoinAddress=function(){b.prompt("Copy Bitcoin Address","1NeRKGXG5ZJ6CBVVbxaFrwq5kWG34vT8wh")}}]),angular.module("cryptomator").controller("CookiesCtrl",["$http","$scope","$cookies","googleAnalytics",function(a,b,c,d){var e=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"];b.consentRequired=!1,b.consentDismissed=!1,b.consentGiven=!_.isEmpty(c.get("cookieConsent")),b.consentGiven?(d.initialize(),d.sendPageView()):a.jsonp("http://freegeoip.net/json/?callback=JSON_CALLBACK",{timeout:5e3}).success(function(a){b.consentRequired=_.contains(e,a.country_code),b.consentRequired||(d.initialize(),d.sendPageView())}).error(function(){b.consentRequired=!0}),b.agree=function(){var a=new Date;a.setFullYear(a.getFullYear()+1),c.put("cookieConsent","given_"+(new Date).toISOString(),{expires:a}),b.consentGiven=!0,d.initialize(),d.sendPageView()},b.dismiss=function(){b.consentDismissed=!0}}]);