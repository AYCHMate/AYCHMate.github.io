<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>{{ .Title }}</title>
    {{ if .Site.IsServer }}
      {{ $css := resources.Get "css/main.css" | postCSS }}
      <link rel="stylesheet" href="{{ $css.Permalink }}">
    {{ else }}
      {{ $css := resources.Get "css/main.css" | postCSS | minify | fingerprint }}
      <link rel="stylesheet" href="{{ $css.Permalink }}" integrity="{{ $css.Data.Integrity }}">
    {{ end }}
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400|Quicksand:400,500,700&display=swap" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="{{ .Site.LanguagePrefix }}/blog/feed.xml">
  </head>
  <body class="bg-dark font-body">
    {{ partial "nav.html" . }}
    <section class="bg-gray-100">
    <!-- Code that all your templates share, like a header -->
    {{ block "main" . }}
      <!-- The part of the page that begins to differ between templates -->
    {{ end }}
    </section>
    {{ partial "footer.html" . }}

    {{ $jquery := resources.Get "js/jquery/jquery.min.js" | fingerprint }}
    <script type="text/javascript" src="{{ $jquery.Permalink }}" integrity="{{ $jquery.Data.Integrity }}"></script>

    {{ $alpine := resources.Get "js/alpinejs/alpine.js" | fingerprint }}
    <script type="text/javascript" src="{{ $alpine.Permalink }}" integrity="{{ $alpine.Data.Integrity }}"></script>

    {{ if .Site.IsServer }}
      {{ $js := resources.Get "js/main.js" }}
      <script type="text/javascript" src="{{ $js.Permalink }}" defer></script>
    {{ else }}
      {{ $js := resources.Get "js/main.js" | minify | fingerprint }}
      <script type="text/javascript" src="{{ $js.Permalink }}" integrity="{{ $js.Data.Integrity }}" defer></script>
    {{ end }}
  </body>
</html>
