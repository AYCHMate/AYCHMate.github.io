{{ define "main" }}
  <div x-data="{ tab: guessDownloadTab() }">
    {{ range .Pages }}
      <section x-show="tab === '{{ .Slug }}'" class="container flex flex-wrap items-center py-12 min-vh-66">
        <figure class="w-full md:w-1/2 lg:w-auto mx-auto pr-0 md:pr-8">
          <img src="{{ .Params.Screenshot }}" srcset="{{ .Params.Screenshot }} 1x, {{ .Params.Screenshot2x }} 2x"/>
        </figure>
        {{ .Content }}
      </section>
    {{ end }}
    
    <section class="bg-white shadow py-4">
      <div class="container grid grid-cols-5 gap-2 text-white md:text-lg text-xs">
        {{ range .Pages }}
          <button :class="{ 'text-primary border-primary hover:border-primary focus:border-primary': tab === '{{ .Slug }}' }" @click="tab = '{{ .Slug }}'" class="btn btn-outline-gray-500 px-2 w-full">{{ safeHTML .Params.ButtonLabel }}</button>
        {{ end }}
      </div>
    </section>
  </div>

  <section class="container text-center pt-12 pb-24">
    <h3 class="text-2xl">{{ i18n "downloads_all_versions_title" . }}</h3>
    <a href="https://github.com/cryptomator/cryptomator/releases" target="_blank" rel="noopener" role="button" class="btn btn-primary">
      <i class="fab fa-github"></i> {{ i18n "downloads_all_versions_button" .}}
    </a>
  </section>

  {{ if .Site.IsServer }}
    {{ $downloadJs := resources.Get "js/download.js" }}
    <script type="text/javascript" src="{{ $downloadJs.Permalink }}" defer></script>
  {{ else }}
    {{ $downloadJs := resources.Get "js/download.js" | minify | fingerprint }}
    <script type="text/javascript" src="{{ $downloadJs.Permalink }}" integrity="{{ $downloadJs.Data.Integrity }}" defer></script>
  {{ end }}
{{ end }}
